====== file2dw Plugin ======

---- plugin ----
description: Create a dokuwiki page by importing a file
author     : qky666 
email      : qky669@gmail.com 
type       : action
lastupdate : 2018-11-23
compatible : Greebo, 2018-04-22
depends    : 
conflicts  : 
similar    : odt2dw, odtplus2dw
tags       : import, odt, doc, docx, pandoc, soffice

downloadurl: https://github.com/qky666/dokuwiki-plugin-file2dw/archive/master.zip
bugtracker : https://github.com/qky666/dokuwiki-plugin-file2dw/issues
sourcerepo : https://github.com/qky666/dokuwiki-plugin-file2dw
donationurl: 

screenshot_img : 
----

===== Installation =====

:!: **External requirements:** This plugin requires the following additional components that must be installed separately: 
  * pandoc
  * soffice (ex: libreoffice-writer)

If you run the Dokuwiki server on Debian, you can accomplish this requirements following this directions:

  * Install some packages needed:

<code>sudo apt-get wget default-jre libreoffice-writer</code>

  * If you wish, you can execute the script //installLatestPandoc.sh// (included with this plugin in `docker` folder) to install the latest version of pandoc. Or you can install pandoc any other way (check that version installed is not very outdated, or the conversion can fail).

Install the plugin using the [[plugin:plugin|Plugin Manager]] and the download URL above, which points to latest version of the plugin. Refer to [[:Plugins]] on how to install plugins manually.

==== soffice conversion (.doc support) ====

PHP code (at least in my system) is executed by the user //daemon//. I had problems running a Java application with this user (it seems soffice is a Java application) so I decided to run the soffice conversion using //sudo//. To make it work, I had to add a line to the file ///etc/sudoers//. You can do the same executing: 

<code>sudo echo "daemon ALL=(root)NOPASSWD:/usr/bin/soffice" >> /etc/sudoers</code>

I'm not a security expert, but I think that this should not be a problem for anybody. If you do not use the soffice conversion (.doc support), you don't need to do this.

If PHP code is executed by any other user on your system, you only have to change it in the previous command.

===== Usage =====

From a Dokuwiki page, click on the "Import file" button in the Page Tools. Select a File and click upload.

===== Configuration and Settings =====

They are almost self-explanatory.

=== Change Log ===
  * **v0.1 beta**
    * Initial version.
